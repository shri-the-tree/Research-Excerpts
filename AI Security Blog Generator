# AI Security Blog Generator - Enhanced Agent Architecture

```
ai_security_blog/
â”œâ”€â”€ main.py                           # Entry point - orchestrates full pipeline
â”œâ”€â”€ config.py                         # Groq API keys, model configs, agent settings
â”œâ”€â”€ requirements.txt                  # Dependencies: groq, requests, flask, etc.
â”œâ”€â”€ README.md                         # Setup and usage instructions
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                       # Specialized agent implementations
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base_agent.py            # Common agent interface (ReAct pattern)
â”‚   â”‚   â”œâ”€â”€ researcher.py            # deepseek-r1-distill-llama-70b research agent
â”‚   â”‚   â”œâ”€â”€ writer.py                # Mixtral-8x7B writing agent
â”‚   â”‚   â”œâ”€â”€ validator.py             # Llama-3.1-8B quality analysis
â”‚   â”‚   â””â”€â”€ editor.py                # Gemma2-9B final polish
â”‚   â”‚
â”‚   â”œâ”€â”€ pipeline/                     # Orchestrator-Workers pattern
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ orchestrator.py          # Main pipeline controller
â”‚   â”‚   â”œâ”€â”€ state_manager.py         # Track pipeline progress & context
â”‚   â”‚   â”œâ”€â”€ error_handler.py         # Retry/fallback logic
â”‚   â”‚   â””â”€â”€ web_interface.py         # Human approval UI (Flask/FastAPI)
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/                        # Function calling implementations
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ function_registry.py     # Tool definitions for LLMs
â”‚   â”‚   â”œâ”€â”€ web_search.py            # Latest developments research
â”‚   â”‚   â”œâ”€â”€ content_validator.py     # Comprehensive originality analysis
â”‚   â”‚   â”œâ”€â”€ citation_manager.py      # Source tracking and formatting
â”‚   â”‚   â””â”€â”€ file_operations.py       # Read/write content files
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                       # Data structures & state
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ blog_post.py             # Blog post data model
â”‚   â”‚   â”œâ”€â”€ research_data.py         # Research findings structure
â”‚   â”‚   â”œâ”€â”€ validation_report.py     # Analysis results model
â”‚   â”‚   â”œâ”€â”€ pipeline_state.py        # Current workflow status
â”‚   â”‚   â””â”€â”€ agent_context.py         # Agent memory & conversation state
â”‚   â”‚
â”‚   â””â”€â”€ patterns/                     # Agent design pattern implementations
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ react_loop.py           # Think-Act-Observe-Repeat implementation
â”‚       â”œâ”€â”€ prompt_chaining.py      # Sequential step coordination
â”‚       â”œâ”€â”€ self_reflection.py      # Agent output critique & improvement
â”‚       â””â”€â”€ multi_agent_comm.py     # Inter-agent communication protocols
â”‚
â”œâ”€â”€ content/                          # File-based agent memory
â”‚   â”œâ”€â”€ drafts/                      # Work in progress
â”‚   â”‚   â”œâ”€â”€ research/                # Research summaries (JSON)
â”‚   â”‚   â”œâ”€â”€ written/                 # Draft posts (Markdown)
â”‚   â”‚   â””â”€â”€ reviewed/                # Quality-checked content
â”‚   â”œâ”€â”€ published/                   # Final blog posts
â”‚   â””â”€â”€ archive/                     # Historical content
â”‚
â”œâ”€â”€ memory/                           # Agent state persistence
â”‚   â”œâ”€â”€ agent_logs/                  # Each agent's decision history
â”‚   â”œâ”€â”€ conversation_state/          # Cross-agent context
â”‚   â”œâ”€â”€ error_history/               # Failed attempts + fixes
â”‚   â””â”€â”€ pipeline_history/            # Completed workflow records
â”‚
â”œâ”€â”€ knowledge/                        # Context for agents
â”‚   â”œâ”€â”€ frameworks/
â”‚   â”‚   â”œâ”€â”€ iso_42001_summary.md     # Key points only
â”‚   â”‚   â”œâ”€â”€ nist_ai_rmf_summary.md   # Core concepts
â”‚   â”‚   â””â”€â”€ owasp_llm_top10.md       # Current list
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ blog_structure.md        # Post template
â”‚   â”‚   â”œâ”€â”€ citation_format.md       # Reference style
â”‚   â”‚   â””â”€â”€ agent_prompts/           # System prompts for each agent
â”‚   â”‚       â”œâ”€â”€ researcher_prompt.md
â”‚   â”‚       â”œâ”€â”€ writer_prompt.md
â”‚   â”‚       â”œâ”€â”€ validator_prompt.md
â”‚   â”‚       â””â”€â”€ editor_prompt.md
â”‚   â””â”€â”€ function_schemas/            # Tool definitions for LLMs
â”‚       â”œâ”€â”€ web_search_schema.json
â”‚       â”œâ”€â”€ file_ops_schema.json
â”‚       â””â”€â”€ validation_schema.json
â”‚
â”œâ”€â”€ web/                              # Human-in-the-loop interface
â”‚   â”œâ”€â”€ static/
â”‚   â”‚   â”œâ”€â”€ style.css               # Basic styling
â”‚   â”‚   â””â”€â”€ script.js               # Approval interactions
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ review.html             # Content approval page
â”‚   â”‚   â”œâ”€â”€ pipeline_status.html    # Real-time progress tracking
â”‚   â”‚   â””â”€â”€ agent_logs.html         # Agent decision visibility
â”‚   â””â”€â”€ app.py                      # Web interface entry point
â”‚
â””â”€â”€ tests/                           # Testing suite
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ test_agents.py              # Individual agent testing
    â”œâ”€â”€ test_pipeline.py            # Full workflow testing
    â”œâ”€â”€ test_patterns.py            # Design pattern testing
    â”œâ”€â”€ test_tools.py               # Function calling testing
    â””â”€â”€ fixtures/                   # Test data
        â”œâ”€â”€ sample_research.json
        â”œâ”€â”€ sample_post.md
        â”œâ”€â”€ mock_api_responses.json
        â””â”€â”€ validation_examples.json
```

## Key Enhancements:

**ğŸ§  Agent Memory:** `memory/` folder for state persistence across runs

**ğŸ”„ ReAct Implementation:** `patterns/react_loop.py` for Think-Act-Observe cycles

**ğŸ› ï¸ Function Registry:** `tools/function_registry.py` defines all tool schemas for LLMs

**ğŸ“Š State Management:** `pipeline/state_manager.py` tracks progress, context, errors

**ğŸ”— Agent Communication:** `patterns/multi_agent_comm.py` standardizes data handoffs

**ğŸ¯ Prompt Engineering:** `knowledge/agent_prompts/` separates system prompts

**ğŸ” Error Recovery:** `pipeline/error_handler.py` with retry logic and fallbacks

**ğŸ‘ï¸ Observability:** Web interface shows real-time agent decisions and pipeline status

## Workflow Example:
```
1. main.py topic="Zero-Day AI Exploits 2025"
2. orchestrator.py â†’ initializes pipeline_state
3. researcher.py â†’ ReAct loop with web_search â†’ memory/agent_logs/researcher_decisions.json
4. writer.py â†’ reads research + state â†’ self_reflection loop â†’ drafts/written/
5. validator.py â†’ content analysis â†’ validation_report.py â†’ reviewed/
6. web interface â†’ human approval with full agent trajectory visibility
7. editor.py â†’ final polish â†’ published/ + pipeline_history/
```
